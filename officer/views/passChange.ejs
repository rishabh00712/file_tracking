<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rishabh's Change Password Page</title>
    <link rel="stylesheet" href="/css/style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

</head>
<body>
    <% if (typeof error !== 'undefined') { %>
        <div id="notification-bar" class="notification">
            <%= error %>
        </div>
    <% } %>
    <div class="container">
        <h1><%= locals.error ? locals.error : 'Enter your registered email and create a new password' %></h1>
        <form id="email-form" name="email-form" action="/passChange" method="post">
            <!-- Email Input -->
            <div class="input-group">
                <input type="email" id="Email-3" name="email" placeholder=" " required autofocus>
                <label for="Email-3">Enter Your Email</label>
            </div>
            <!-- Department -->
            <div class="input-group">
                <label for="department">Select Department</label>
                <select id="department" name="dept" required>
                <option value="Director Office">Director Office</option>
                <option value="Dean Office">Dean Office</option>
                <option value="Finance Section">Finance Section</option>
                <option value="Store & Purchase Section">Store & Purchase Section</option>
                <option value="E-Procurement">E-Procurement</option>
                <option value="Internal Audit">Internal Audit</option>
                </select>
            </div>

            <!-- New Password Input -->
            <div class="input-group">
                <input type="password" id="Password1" name="password" placeholder=" " required>
                <label for="Password1">Enter New Password</label>
                <span class="toggle-btn" id="togglePassword1">ğŸ‘ï¸â€ğŸ—¨ï¸</span>
            </div>

            <!-- Confirm New Password Input -->
            <div class="input-group">
                <input type="password" id="Password2" name="password_again" placeholder=" " required>
                <label for="Password2">Enter New Password Again</label>
                <span class="toggle-btn" id="togglePassword2">ğŸ‘ï¸â€ğŸ—¨ï¸</span>
            </div>

            <!-- Buttons -->
            <div class="button_box">
                <button type="button" class="button" onclick="window.location.href='/signin';">BACK</button>
                <input type="submit" class="button" value="CHANGE PASSWORD">
            </div>
        </form>
    </div>

    <script>
        // Toggle Password Visibility
        const passwordInput1 = document.getElementById('Password1');
        const togglePassword1 = document.getElementById('togglePassword1');
        const passwordInput2 = document.getElementById('Password2');
        const togglePassword2 = document.getElementById('togglePassword2');

        togglePassword1.addEventListener('click', () => {
            const currentType = passwordInput1.getAttribute('type');
            const newType = currentType === 'password' ? 'text' : 'password';
            passwordInput1.setAttribute('type', newType);
            togglePassword1.textContent = currentType === 'password' ? 'ğŸ™ˆ' : 'ğŸ‘ï¸â€ğŸ—¨ï¸';
        });

        togglePassword2.addEventListener('click', () => {
            const currentType = passwordInput2.getAttribute('type');
            const newType = currentType === 'password' ? 'text' : 'password';
            passwordInput2.setAttribute('type', newType);
            togglePassword2.textContent = currentType === 'password' ? 'ğŸ™ˆ' : 'ğŸ‘ï¸â€ğŸ—¨ï¸';
        });

        window.addEventListener('DOMContentLoaded', () => {
            const bar = document.getElementById('notification-bar');
            if (bar) {
            bar.classList.add('show'); // Slide down

            setTimeout(() => {
                bar.classList.remove('show'); // Slide back up
            }, 3000);
            }
        });
    </script>
</body>
</html>